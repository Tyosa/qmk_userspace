#include "tyosa.h"
#include "luna.h"
#include "encoder.h"


/* static const char LAYER_BASE[3][80] PROGMEM = { */
/*     {252,252,252,252, 60, 60, 60, 60, 60, 60, 60, 60,192,192,192,192,  0,  0,  0,  0,192,192,192,192, 60, 60, 60, 60, 60, 60, 60, 60,192,192,192,192,  0,  0,  0,  0,192,192,192,192, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,  0,  0,  0,  0,252,252,252,252, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,  0,  0,  0,  0}, */
/*     {255,255,255,255, 60, 60, 60, 60, 60, 60, 60, 60,195,195,195,195,  0,  0,  0,  0,255,255,255,255, 60, 60, 60, 60, 60, 60, 60, 60,255,255,255,255,  0,  0,  0,  0,  3,  3,  3,  3, 60, 60, 60, 60, 60, 60, 60, 60,192,192,192,192,  0,  0,  0,  0,255,255,255,255, 60, 60, 60, 60, 60, 60, 60, 60,  0,  0,  0,  0,  0,  0,  0,  0}, */
/*     {63, 63, 63, 63, 60, 60, 60, 60, 60, 60, 60, 60,  3,  3,  3,  3,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,  3,  3,  3,  3,  0,  0,  0,  0, 63, 63, 63, 63, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,  0,  0,  0,  0} */
/* }; */
/**/
/* static const char LAYER_NAV[3][56] PROGMEM = { */
/*     {252,252,252,252,192,192,192,192,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,192,192,192,192, 60, 60, 60, 60, 60, 60, 60, 60,192,192,192,192,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,  0,  0,  0,  0,252,252,252,252}, */
/*     {255,255,255,255,  3,  3,  3,  3, 60, 60, 60, 60,255,255,255,255,  0,  0,  0,  0,255,255,255,255, 60, 60, 60, 60, 60, 60, 60, 60,255,255,255,255,  0,  0,  0,  0, 63, 63, 63, 63,192,192,192,192,192,192,192,192, 63, 63, 63, 63}, */
/*     {63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63, 63, 63, 63, 63,  0,  0,  0,  0} */
/* }; */
/**/
/* static const char LAYER_SYM[3][56] PROGMEM = { */
/*     {192,192,192,192, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,252,252,252,252,192,192,192,192,192,192,192,192,252,252,252,252}, */
/*     {3,  3,  3,  3, 60, 60, 60, 60, 60, 60, 60, 60,192,192,192,192,  0,  0,  0,  0,  3,  3,  3,  3, 60, 60, 60, 60,252,252,252,252,  3,  3,  3,  3,  0,  0,  0,  0,255,255,255,255, 63, 63, 63, 63, 63, 63, 63, 63,255,255,255,255}, */
/*     {60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60, 60,  3,  3,  3,  3,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63} */
/* }; */
/**/
/* static const char LAYER_NUM[3][56] PROGMEM = { */
/*     {252,252,252,252,192,192,192,192,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,  0,  0,  0,  0,252,252,252,252,  0,  0,  0,  0,252,252,252,252,192,192,192,192,192,192,192,192,252,252,252,252}, */
/*     {255,255,255,255,  3,  3,  3,  3, 60, 60, 60, 60,255,255,255,255,  0,  0,  0,  0,255,255,255,255,  0,  0,  0,  0,  0,  0,  0,  0,255,255,255,255,  0,  0,  0,  0,255,255,255,255, 63, 63, 63, 63, 63, 63, 63, 63,255,255,255,255}, */
/*     {63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0, 63, 63, 63, 63, 60, 60, 60, 60, 60, 60, 60, 60, 63, 63, 63, 63,  0,  0,  0,  0, 63, 63, 63, 63,  0,  0,  0,  0,  0,  0,  0,  0, 63, 63, 63, 63} */
/* }; */

/* static const char arrows[] PROGMEM = {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfe,0x00,0x00,0x00,0x07,0x01,0x80,0x00,0x00,0x18,0x00,0x40,0x00,0x00,0x20,0x7e,0x40,0x00,0x00,0x43,0xff,0xc0,0x00,0x00,0x87,0x81,0x80,0x00,0x00,0x8c,0x00,0x02,0x00,0x01,0x10,0x00,0x05,0x00,0x01,0x10,0x00,0x08,0x80,0x02,0x20,0x00,0x10,0x40,0x02,0x20,0x00,0x20,0x20,0x04,0x40,0x00,0x40,0x10,0x04,0x40,0x00,0x80,0x08,0x04,0x40,0x00,0xf8,0xf8,0x7c,0x7c,0x00,0xf8,0xf8,0x40,0x04,0x00,0x08,0x80,0x60,0x0c,0x00,0x08,0x80,0x70,0x1c,0x00,0x11,0x00,0x38,0x38,0x00,0x11,0x00,0x1c,0x70,0x00,0x22,0x00,0x0e,0xe0,0x00,0x22,0x00,0x07,0xc0,0x00,0xc4,0x00,0x03,0x80,0x00,0x84,0x00,0x00,0x06,0x07,0x08,0x00,0x00,0x09,0xf8,0x10,0x00,0x00,0x08,0x00,0x70,0x00,0x00,0x0e,0x03,0xe0,0x00,0x00,0x07,0xff,0x80,0x00,0x00,0x01,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00}; */
static const  char PROGMEM arrows[] = {
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,128, 64, 32, 16,  8,  4,  4,  2,  2,  2,  2,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  2,  2,  2,  2,  4,  4,  4,  8,  8, 16, 32, 64,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,128, 64, 32, 16, 16, 16,
        8,  8,  8,  8,  8, 16, 16, 16, 32, 32, 32,112, 92,106,209,160,208,160, 64,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,192, 32,144,200,200, 72, 72, 72,200,136, 16, 32,192,  0,  0,  0,  0,  3,  4, 24, 32,192,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 62,193, 32, 16,  8,  8,  8,  8, 16, 16, 32, 32, 32, 64, 64, 64,128,128,  0,  0,  0,  0,  0,  0,  1,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        0, 15, 80, 47, 63, 63, 60, 60, 63, 95, 79,160, 80,175, 80,160, 64,  0,  0,  0,  0,  0,  3,252,  0,  0,  0,  0,  0,  0,  0,  0,  0,128, 64, 32, 32, 16, 16, 16, 16, 40,196,  2,  2,252,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  3, 12, 16, 32, 64,128,  0,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  1,  2,  2,  4,  4,  8,  8, 16, 16, 32, 32, 64, 64,128,128,128,128,128,128, 64, 64, 64, 32, 32, 16,  0,  0,  0,  0,  0,  0,  0, 31, 10,  5,  2,  1,  0,  0,  0,  0,  0,  0,255,  0,  0,  0,  0,  0,  0,  0,  0,
        31, 32, 64,192, 64, 64, 64, 64, 64, 32, 16, 15,  0,  1,  2,  4,  8,  8, 16, 16, 32, 32, 64, 64,128,128,128,  0,  0,  0,  0,  0,  1,  2,  3,  6, 13, 10, 20,232,212,168, 80,160, 80,160, 64,160, 64,160, 64,128, 64,128, 64,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,224,255,240,192,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  2,  4,  8, 16, 32, 64,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  1,  1, 66,
        10,162, 86,170, 86,235, 53, 15,  3,  1,  2,  1,  2,  1,  2,  1,  2,  1,  0,  1,  0,  1,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,192,191, 87,175, 95,191,254,248,224,128,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  1,  2,  4,  4,  8, 16, 16, 32, 64, 64,128,128,  0,  0,  0,  0, 64,  8,161, 84,170,213, 58,  7,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
        0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,255,170, 85,170, 85,170, 85, 11, 31,127,254,
    };
/* static const char volume[] = {0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x3c00,0xf0000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x2264,0x4a2f0000,0x0,0x0,0x2294,0x4b680000,0x0,0x0,0x1494,0x4aae0000,0x0,0x0,0x1494,0x4a280000,0x0,0x0,0x867,0x322f0000,0x0,0x0,0x0,0x0,0x0,0x0,0x2000,0x0,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x2000,0x10000,0x0,0x0,0x3c00,0xf0000,0x0,0x0}; */

/**
 * Clear the zone used by the layer display
 */
void oled_clear_layer(void) {
    oled_set_cursor(0, 0);
    oled_advance_page(true);
    oled_advance_page(true);
    oled_advance_page(true);
    oled_set_cursor(0, 0);
}

bool oled_task_user(void) {
    if (is_keyboard_master()) {
        /* oled_clear_layer(); */
        /* switch (get_highest_layer(layer_state|default_layer_state)) { */
        /*     case _COLEMAK_DH: */
        /*         oled_write("    ", false); */
        /*         oled_write_raw_P(LAYER_BASE[0], 80); */
        /*         oled_advance_page(false); */
        /*         oled_write("    ", false); */
        /*         oled_write_raw_P(LAYER_BASE[1], 80); */
        /*         oled_advance_page(false); */
        /*         oled_write("    ", false); */
        /*         oled_write_raw_P(LAYER_BASE[2], 80); */
        /*         oled_advance_page(false); */
        /*         break; */
        /*     case _NAV: */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_NAV[0], 56); */
        /*         oled_advance_page(false); */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_NAV[1], 56); */
        /*         oled_advance_page(false); */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_NAV[2], 56); */
        /*         oled_advance_page(false); */
        /*         break; */
        /*     case _SYM: */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_SYM[0], 56); */
        /*         oled_advance_page(false); */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_SYM[1], 56); */
        /*         oled_advance_page(false); */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_SYM[2], 56); */
        /*         oled_advance_page(false); */
        /*         break; */
        /*     case _NUM: */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_NUM[0], 56); */
        /*         oled_advance_page(false); */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_NUM[1], 56); */
        /*         oled_advance_page(false); */
        /*         oled_write("      ", false); */
        /*         oled_write_raw_P(LAYER_NUM[2], 56); */
        /*         oled_advance_page(false); */
        /*         break; */
        /*     default: */
        /*         break; */
        /* } */
        /**/
        oled_clear();
        /* oled_set_cursor(0, 0); */
        oled_write_raw_P(arrows, sizeof(arrows));
        /* oled_write_P(PSTR("Left: "), false); */
        /* left_encoder_oled(); */
        /**/
        /* oled_write_P(PSTR("Right: "), false); */
        /* right_encoder_oled(); */


    } else {
        render_luna(0,1);
        oled_set_cursor(0,6);
        oled_write_P(PSTR("       WPM: "), false);
        oled_write(get_u8_str(get_current_wpm(), ' '), false);
    }
    return false;
}

